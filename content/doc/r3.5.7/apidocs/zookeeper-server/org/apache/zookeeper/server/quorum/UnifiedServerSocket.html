<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_242) on Mon Feb 10 12:30:15 CET 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UnifiedServerSocket (Apache ZooKeeper - Server 3.5.7 API)</title>
<meta name="date" content="2020-02-10">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UnifiedServerSocket (Apache ZooKeeper - Server 3.5.7 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UnifiedServerSocket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/zookeeper/server/quorum/SyncedLearnerTracker.QuorumVerifierAcksetPair.html" title="class in org.apache.zookeeper.server.quorum"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.UnifiedSocket.html" title="class in org.apache.zookeeper.server.quorum"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/zookeeper/server/quorum/UnifiedServerSocket.html" target="_top">Frames</a></li>
<li><a href="UnifiedServerSocket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.zookeeper.server.quorum</div>
<h2 title="Class UnifiedServerSocket" class="title">Class UnifiedServerSocket</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net">java.net.ServerSocket</a></li>
<li>
<ul class="inheritance">
<li>org.apache.zookeeper.server.quorum.UnifiedServerSocket</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">UnifiedServerSocket</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net">ServerSocket</a></pre>
<div class="block">A ServerSocket that can act either as a regular ServerSocket, as a SSLServerSocket, or as both, depending on
 the constructor parameters and on the type of client (TLS or plaintext) that connects to it.
 The constructors have the same signature as constructors of ServerSocket, with the addition of two parameters
 at the beginning:
 <ul>
     <li>X509Util - provides the SSL context to construct a secure socket when a client connects with TLS.</li>
     <li>boolean allowInsecureConnection - when true, acts as a hybrid server socket (plaintext / TLS). When
         false, acts as a SSLServerSocket (rejects plaintext connections).</li>
 </ul>
 The <code>!allowInsecureConnection</code> mode is needed so we can update the SSLContext (in particular, the
 key store and/or trust store) without having to re-create the server socket. By starting with a plaintext socket
 and delaying the upgrade to TLS until after a client has connected and begins a handshake, we can keep the same
 UnifiedServerSocket instance around, and replace the default SSLContext in the provided X509Util when the key store
 and/or trust store file changes on disk.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.UnifiedSocket.html" title="class in org.apache.zookeeper.server.quorum">UnifiedServerSocket.UnifiedSocket</a></span></code>
<div class="block">The result of calling accept() on a UnifiedServerSocket.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.html#UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-">UnifiedServerSocket</a></span>(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection)</code>
<div class="block">Creates an unbound unified server socket by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket--" title="class or interface in java.net"><code>ServerSocket.ServerSocket()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.html#UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-">UnifiedServerSocket</a></span>(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port)</code>
<div class="block">Creates a unified server socket bound to the specified port by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.html#UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-int-">UnifiedServerSocket</a></span>(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port,
                   int&nbsp;backlog)</code>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, by calling
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.html#UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-int-java.net.InetAddress-">UnifiedServerSocket</a></span>(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                   boolean&nbsp;allowInsecureConnection,
                   int&nbsp;port,
                   int&nbsp;backlog,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;bindAddr)</code>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, and local IP address
 to bind to, by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-java.net.InetAddress-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int, InetAddress)</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.html#accept--">accept</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.net.ServerSocket">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.net.<a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net">ServerSocket</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#bind-java.net.SocketAddress-" title="class or interface in java.net">bind</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#bind-java.net.SocketAddress-int-" title="class or interface in java.net">bind</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#close--" title="class or interface in java.net">close</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getChannel--" title="class or interface in java.net">getChannel</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getInetAddress--" title="class or interface in java.net">getInetAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getLocalPort--" title="class or interface in java.net">getLocalPort</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getLocalSocketAddress--" title="class or interface in java.net">getLocalSocketAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getReceiveBufferSize--" title="class or interface in java.net">getReceiveBufferSize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getReuseAddress--" title="class or interface in java.net">getReuseAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#getSoTimeout--" title="class or interface in java.net">getSoTimeout</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#implAccept-java.net.Socket-" title="class or interface in java.net">implAccept</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#isBound--" title="class or interface in java.net">isBound</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#isClosed--" title="class or interface in java.net">isClosed</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setPerformancePreferences-int-int-int-" title="class or interface in java.net">setPerformancePreferences</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setReceiveBufferSize-int-" title="class or interface in java.net">setReceiveBufferSize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setReuseAddress-boolean-" title="class or interface in java.net">setReuseAddress</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setSocketFactory-java.net.SocketImplFactory-" title="class or interface in java.net">setSocketFactory</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#setSoTimeout-int-" title="class or interface in java.net">setSoTimeout</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#toString--" title="class or interface in java.net">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates an unbound unified server socket by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket--" title="class or interface in java.net"><code>ServerSocket.ServerSocket()</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket--" title="class or interface in java.net"><code>ServerSocket.ServerSocket()</code></a> throws.</dd>
</dl>
</li>
</ul>
<a name="UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int)</code></a> throws.</dd>
</dl>
</li>
</ul>
<a name="UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port,
                           int&nbsp;backlog)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, by calling
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dd><code>backlog</code> - requested maximum length of the queue of incoming connections.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int)</code></a> throws.</dd>
</dl>
</li>
</ul>
<a name="UnifiedServerSocket-org.apache.zookeeper.common.X509Util-boolean-int-int-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UnifiedServerSocket</h4>
<pre>public&nbsp;UnifiedServerSocket(<a href="../../../../../org/apache/zookeeper/common/X509Util.html" title="class in org.apache.zookeeper.common">X509Util</a>&nbsp;x509Util,
                           boolean&nbsp;allowInsecureConnection,
                           int&nbsp;port,
                           int&nbsp;backlog,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;bindAddr)
                    throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a unified server socket bound to the specified port, with the specified backlog, and local IP address
 to bind to, by calling <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-java.net.InetAddress-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int, InetAddress)</code></a>.
 Secure client connections will be upgraded to TLS once this socket detects the ClientHello message (start of a
 TLS handshake). Plaintext client connections will either be accepted or rejected depending on the value of
 the <code>allowInsecureConnection</code> parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x509Util</code> - the X509Util that provides the SSLContext to use for secure connections.</dd>
<dd><code>allowInsecureConnection</code> - if true, accept plaintext connections, otherwise close them.</dd>
<dd><code>port</code> - the port number, or <code>0</code> to use a port number that is automatically allocated.</dd>
<dd><code>backlog</code> - requested maximum length of the queue of incoming connections.</dd>
<dd><code>bindAddr</code> - the local InetAddress the server will bind to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if <a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#ServerSocket-int-int-java.net.InetAddress-" title="class or interface in java.net"><code>ServerSocket.ServerSocket(int, int, InetAddress)</code></a> throws.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="accept--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>accept</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;accept()
              throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true#accept--" title="class or interface in java.net">accept</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net">ServerSocket</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UnifiedServerSocket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/zookeeper/server/quorum/SyncedLearnerTracker.QuorumVerifierAcksetPair.html" title="class in org.apache.zookeeper.server.quorum"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/zookeeper/server/quorum/UnifiedServerSocket.UnifiedSocket.html" title="class in org.apache.zookeeper.server.quorum"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/zookeeper/server/quorum/UnifiedServerSocket.html" target="_top">Frames</a></li>
<li><a href="UnifiedServerSocket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
